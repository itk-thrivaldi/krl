&PARAM VERSION = 8.1.0
DEFDAT  $MACHINE PUBLIC
CHAR $V_STEUMADA[32]
$V_STEUMADA[]="V8.1.0/KUKA5.4" ;VERSIONSKENNUNG
SIGNAL $MASTERINGTEST_REQ_EX $IN[1026] ;True = Referenzfahrt angefordert (extern)
SIGNAL $BRAKETEST_REQ_EX $IN[1026] ;TRUE = Bremsentest soll gestartet werden
SIGNAL $BRAKETEST_MONTIME FALSE ;TRUE = Monitoringzeit wurde ueberschritten
SIGNAL $SAFEMON_ACTIVE FALSE ;True = Roboter wird sicher ueberwacht
SIGNAL $AXISSPEED_OK FALSE ;FALSE = Geschwindigkeit ueberschritten
SIGNAL $CARTSPEED_OK FALSE ;FALSE= kartesische Geschw. ueberschritten
SIGNAL $AXISACC_OK FALSE ;FALSE = Beschleunigung ueberschritten
SIGNAL $SAFEOPSTOP_OK FALSE ;FALSE = sicherer Betriebshalt verletzt
SIGNAL $AXISRANGE8_OK FALSE ;FALSE = Bereich überschritten
SIGNAL $MASTERINGTEST_REQ_INT FALSE ;TRUE = Referenzfahrt wird angefordert
SIGNAL $MASTERINGTEST_MONTIME FALSE ;True = Monitoring Zeit Justage Referenzierung abgelaufen
SIGNAL $MASTERINGTEST_WORK FALSE ;TRUE = Referenzfahrt wird durchgefuehrt
SIGNAL $MASTERINGTEST_OK FALSE ;FALSE = Fehler bei der Justagereferenzierung
SIGNAL $MASTERINGTESTSWITCH_OK FALSE ;TRUE = Refernztaster funktionsfaehig
SIGNAL $BRAKETEST_REQ_INT FALSE ;TRUE= Bremsentest wird angefordert
SIGNAL $BRAKETEST_WORK FALSE ;TRUE = Bremsentest wird durchgefuehrt
SIGNAL $AXISRANGE9_OK FALSE ;FALSE = Bereich überschritten
SIGNAL $BRAKES_OK FALSE ;False = Bremse ist defekt
SIGNAL $BRAKETEST_WARN FALSE ;TRUE = Bremse hat Verschleißgrenze erreicht
REAL $BRAKETEST_CYCLETIME ;Gibt die Bremsentestzykluszeit an
SIGNAL $STOP0 FALSE ;FALSE = Roboter wurde mit Stopp0 gestoppt
SIGNAL $STOP1 FALSE ;FALSE = Roboter wurde mit Stopp1 gestoppt
SIGNAL $STOP2 FALSE ;FALSE = Roboter wurde mit Stopp2 gestoppt
SIGNAL $AXISRANGE10_OK FALSE ;FALSE = Bereich überschritten
SIGNAL $SAFEREDSPEED_ACTIVE FALSE ;True = Geschwindigkeiten und Beschleunigung werden ueberwacht
SIGNAL $SAFEOPSTOP_ACTIVE FALSE ;True = Sicherer Bertriebshalt wird ueberwacht
SIGNAL $AXISRANGE3_OK FALSE ;FALSE = Bereich überschritten
SIGNAL $AXISRANGE4_OK FALSE ;FALSE= Bereich überschritten
SIGNAL $AXISRANGE5_OK FALSE ;FALSE = Bereich überschritten
SIGNAL $AXISRANGE6_OK FALSE ;FALSE = Bereich überschritten
SIGNAL $AXISRANGE7_OK FALSE ;FALSE = Bereich überschritten
SIGNAL $AXISRANGE1_OK FALSE ;FALSE = Bereich überschritten
SIGNAL $AXISRANGE2_OK FALSE ;FALSE = Bereich überschritten
SIGNAL $AXISRANGE2_ACTIVE FALSE ;True = Achsbereich2 wird ueberwacht
SIGNAL $AXISRANGE3_ACTIVE FALSE ;True =  Achsbereich3 wird ueberwacht
SIGNAL $AXISRANGE4_ACTIVE FALSE ;True = Achsbereich4 wird ueberwacht
SIGNAL $AXISRANGE5_ACTIVE FALSE ;True = Achsbereich5 wird ueberwacht
SIGNAL $AXISRANGE6_ACTIVE FALSE ;True = Achsbereich6 wird ueberwacht
SIGNAL $AXISRANGE7_ACTIVE FALSE ;True = Achsbereich7 wird ueberwacht
DECL EMSTOP_PATH $EMSTOP_PATH={T1 #ON,T2 #ON,AUT #ON,EX #ON} ;PROJEKTIERUNG DES BAHNTREUEN NOT-AUS FUER T1,T2,AUT,EX
DECL DIGINCODE $DIGIN1CODE=#UNSIGNED ;KODIERUNG FUER DIGITALEINGANG 1
DECL DIGINCODE $DIGIN2CODE=#UNSIGNED ;KODIERUNG FUER DIGITALEINGANG 2
DECL DIGINCODE $DIGIN3CODE=#UNSIGNED ;KODIERUNG FUER DIGITALEINGANG 3
DECL DIGINCODE $DIGIN4CODE=#UNSIGNED ;KODIERUNG FUER DIGITALEINGANG 4
DECL DIGINCODE $DIGIN5CODE=#UNSIGNED ;KODIERUNG FUER DIGITALEINGANG 5
DECL DIGINCODE $DIGIN6CODE=#UNSIGNED ;KODIERUNG FUER DIGITALEINGANG 6
SIGNAL $EXT_START $IN[1026] ;EXTERNER START
SIGNAL $MOVE_ENABLE $IN[1025] ;FAHRFREIGABE GESAMT
SIGNAL $RC_RDY1 $OUT[137] ;RC-BETRIEBSBEREIT 1
SIGNAL $ALARM_STOP $OUT[1013] ;NOT-STOP
SIGNAL $T1 $OUT[993] ;BETRIEBSART T1
SIGNAL $T2 $OUT[994] ;BETRIEBSART T2
SIGNAL $AUT $OUT[995] ;BETRIEBSART AUTOMATIK
SIGNAL $I_O_ACTCONF $OUT[140] ;E/A-SCHNITTSTELLE AKTIV QUITTUNG
SIGNAL $LOCAL_NETWORK_OK FALSE ;Lokale Netzwerkkonfiguration OK
SIGNAL $COMPLETE_NETWORK_OK FALSE ;Alle konfigurierten Steuerungen erreichbar
SIGNAL $POS_TRACKER_ERROR FALSE ;Position Tracker Fehlermeldung wegen Geberfehler oder Uebertragungsfehler DSE-RDW steht an
SIGNAL $EXT $OUT[996] ;BETRIEBSART EXTERN
SIGNAL $STOPMESS $OUT[1010] ;STOP-MELDUNG
SIGNAL $CONF_MESS $IN[1026] ;EXTERNE QUITTUNG
SIGNAL $USER_SAF $OUT[1011]
SIGNAL $PERI_RDY $OUT[1012]
SIGNAL $IN_HOME $OUT[1000] ;ROB IN HOMEPOSITION
SIGNAL $IN_HOME1 $OUT[977]
SIGNAL $IN_HOME2 $OUT[978]
SIGNAL $IN_HOME3 $OUT[979]
SIGNAL $IN_HOME4 $OUT[980]
SIGNAL $IN_HOME5 $OUT[981]
SIGNAL $HWEND $IN[1002] ;HW-ENDSCHALTER FUER ALLE ACHSEN
SIGNAL $DIGIN1 $IN[1026]  TO $IN[1026] ;DIGITALEINGANG 1
SIGNAL $DIGIN2 $IN[1026]  TO $IN[1026] ;DIGITALEINGANG 2
SIGNAL $DIGIN3 $IN[1026]  TO $IN[1026] ;DIGITALEINGANG 3
SIGNAL $DIGIN4 $IN[1026]  TO $IN[1026] ;DIGITALEINGANG 4
SIGNAL $DIGIN5 $IN[1026]  TO $IN[1026] ;DIGITALEINGANG 5
SIGNAL $DIGIN6 $IN[1026]  TO $IN[1026] ;DIGITALEINGANG 6
SIGNAL $STROBE1 $OUT[1015] ;STROBE-AUSGANG FUER DIGITALEINGANG 1
SIGNAL $STROBE2 $OUT[1016] ;STROBE-AUSGANG FUER DIGITALEINGANG 2
SIGNAL $STROBE3 $OUT[1017] ;STROBE-AUSGANG FUER DIGITALEINGANG 3
SIGNAL $STROBE4 $OUT[1018] ;STROBE-AUSGANG FUER DIGITALEINGANG 4
SIGNAL $STROBE5 $OUT[1019] ;STROBE-AUSGANG FUER DIGITALEINGANG 5
SIGNAL $STROBE6 $OUT[1020] ;STROBE-AUSGANG FUER DIGITALEINGANG 6
SIGNAL $DRIVES_ON $IN[140] ;ANTRIEBE EIN
SIGNAL $DRIVES_OFF $IN[1025] ;ANTRIEBE ENABLE
SIGNAL $ON_PATH $OUT[147] ;ROB AUF BAHN
SIGNAL $PR_MODE $OUT[138] ;HAND/PROGRAMMIERMODUS
SIGNAL $SS_MODE $OUT[139] ;HAND/SINGLE-STEP
SIGNAL $ALARM_STOP_INTERN $OUT[853] ;NOT-STOP INTERN
SIGNAL $WORKSTATE1 $OUT[984]
SIGNAL $WORKSTATE2 $OUT[985]
SIGNAL $WORKSTATE3 $OUT[986]
SIGNAL $WORKSTATE4 $OUT[987]
SIGNAL $WORKSTATE5 $OUT[988]
SIGNAL $WORKSTATE6 $OUT[989]
SIGNAL $WORKSTATE7 $OUT[990]
SIGNAL $WORKSTATE8 $OUT[991]
SIGNAL $AXWORKSTATE1 $OUT[969] ;AUSGANG DER ACHSARBEITSRAUMUEBERWACHUNG
SIGNAL $AXWORKSTATE2 $OUT[970] ;AUSGANG DER ACHSARBEITSRAUMUEBERWACHUNG
SIGNAL $AXWORKSTATE3 $OUT[971] ;AUSGANG DER ACHSARBEITSRAUMUEBERWACHUNG
SIGNAL $AXWORKSTATE4 $OUT[972] ;AUSGANG DER ACHSARBEITSRAUMUEBERWACHUNG
SIGNAL $AXWORKSTATE5 $OUT[973] ;AUSGANG DER ACHSARBEITSRAUMUEBERWACHUNG
SIGNAL $AXWORKSTATE6 $OUT[974] ;AUSGANG DER ACHSARBEITSRAUMUEBERWACHUNG
SIGNAL $AXWORKSTATE7 $OUT[975] ;AUSGANG DER ACHSARBEITSRAUMUEBERWACHUNG
SIGNAL $AXWORKSTATE8 $OUT[976] ;AUSGANG DER ACHSARBEITSRAUMUEBERWACHUNG
SIGNAL $ASYNC_AX1_P $IN[1026]
SIGNAL $ASYNC_AX2_P $IN[1026]
SIGNAL $ASYNC_AX3_P $IN[1026]
SIGNAL $ASYNC_AX4_P $IN[1026]
SIGNAL $ASYNC_AX5_P $IN[1026]
SIGNAL $ASYNC_AX6_P $IN[1026]
SIGNAL $ASYNC_AX1_M $IN[1026]
SIGNAL $ASYNC_AX2_M $IN[1026]
SIGNAL $ASYNC_AX3_M $IN[1026]
SIGNAL $ASYNC_AX4_M $IN[1026]
SIGNAL $ASYNC_AX5_M $IN[1026]
SIGNAL $ASYNC_AX6_M $IN[1026]
SIGNAL $ZUST_ASYNC $IN[1026]
SIGNAL $NEAR_POSRET $OUT[997] ;ROBOTER IN TOLERANZFENSTER
SIGNAL $COLLISION FALSE ;Bei Kollisionsvermeidung aktiv wurde eine Kollision erkannt
SIGNAL $COLLISION_STOP FALSE ;Bei aktiver Kollisionsvermeidung ist eine Kollision vorhergesagt und stop wurde eingeleitet
SIGNAL $I_O_ACT $IN[1025] ;E/A-SCHNITTSTELLE AKTIV
SIGNAL $SAFEGATE_OP $IN[1025] ;SAFETY GATE ON PATH STOP
SIGNAL $MOVE_ENA_ACK $OUT[150] ;RUECKMELDUNG $MOVE_ENABLE AN PLC
SIGNAL $COLL_ALARM $OUT[151] ;KOLLISIONSALARM
SIGNAL $COLL_ENABLE $OUT[152] ;KOLLISIONSSOFTWARE EIN/AUS
SIGNAL $LAST_BUFFERING_NOTOK $OUT[1003] ;AUSGANG SIGNALISIERT EINE ANSTEHENDE AKKUMELDUNG
SIGNAL $COBRA_FAN_ERROR FALSE ;Lueftermeldung steht an
SIGNAL $IMM_STOP $IN[1025] ;NOT-AUS VON DER SPS
SIGNAL $AUX_POWER $IN[1026] ;EXTERNE SPANNUNGSVERSORGUNG AKTIV
SIGNAL $T2_ENABLE $IN[1025] ;SAFETY-SPEED
BOOL $STROBE1LEV=TRUE ;AKTIV-FLANKE DES STROBE-AUSGANGES FUER DIGITALEINGANG 1
BOOL $STROBE2LEV=TRUE ;AKTIV-FLANKE DES STROBE-AUSGANGES FUER DIGITALEINGANG 2
BOOL $STROBE3LEV=TRUE ;AKTIV-FLANKE DES STROBE-AUSGANGES FUER DIGITALEINGANG 3
BOOL $STROBE4LEV=TRUE ;AKTIV-FLANKE DES STROBE-AUSGANGES FUER DIGITALEINGANG 4
BOOL $STROBE5LEV=TRUE ;AKTIV-FLANKE DES STROBE-AUSGANGES FUER DIGITALEINGANG 5
BOOL $STROBE6LEV=TRUE ;AKTIV-FLANKE DES STROBE-AUSGANGES FUER DIGITALEINGANG 6
REAL $FAN_FOLLOW_UP_TIME=5.0 ;NACHLAUFZEIT FUER DIE FAN-ANSTEUERUNG
INT $FAN_RED_LIMIT_TEMP=0 ;Reduktion der Schaltschwelle in Celsius fuer Schrankluefter (0 entspricht Schwelle von 44 Grad)
INT $MOTOR_RED_TEMP=0 ;Reduktion der Abschaltschwelle in Kelvin fuer Motoren
SIGNAL $HW_WARNING FALSE ;PROJEKTIERBARE SYSTEMVARIABLE
SIGNAL $ACCU_DEFECT FALSE ;Projektierbare Systemvariable
SIGNAL $PHASE_VOLTAGE_MISSING FALSE ;projektierbare systemvariable
SIGNAL $ROB_STOPPED $OUT[1023] ;ROBOTER STEHT
SIGNAL $ROB_CAL $OUT[1001] ;ROBOTER SYNCHRON
SIGNAL $PRO_ACT $OUT[1021] ;PROZESS AKTIV
SIGNAL $PRO_MOVE $OUT[1022] ;PROGRAMMBEWEGUNG AKTIV
STRUC BOXSTATESAFEIN BOOL RDW,PULSEFAULT ;Struktur fuer den Status von Kanal A und B der Eingaenge von der SafeRDW
DECL BOXSTATESAFEIN $SR_STATESAFEIN_CHA[13] ;Gibt den Status von Kanal A der Eingaenge auf der SafeRDW
DECL BOXSTATESAFEIN $SR_STATESAFEIN_CHB[13] ;Gibt den Status von Kanal B der Eingaenge auf der SafeRDW
STRUC BOXSTATESAFEOUT BOOL PRE,POST,RDW,PULSEFAULT ;Struktur fuer den Status von Kanal A und B der Ausgaenge von der SafeRDW
DECL BOXSTATESAFEOUT $SR_STATESAFEOUT_CHA[7] ;Gibt den Status von Kanal A der Ausgaenge auf der SafeRDW
DECL BOXSTATESAFEOUT $SR_STATESAFEOUT_CHB[7] ;Gibt den Status von Kanal B der Ausgaenge auf der SafeRDW
ENDDAT
